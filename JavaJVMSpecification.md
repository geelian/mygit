# 第4章 Class文件格式

## 4.10 Class 文件校验
2种不同的检查策略：类型检查和类型推导
### 4.10.1 类型检查验证

### 4.10.2 类型推导验证

不包含StackMapTable <=49.0 

#### 过程
校验每个方法的code[]    

#### 字节码验证器
1. code[] 指令转载，验证器遍历分析
2. 数据流分析器初始化
3. 数据流分析器运行

#### long和double 
被特殊处理，占2个位置

#### 实例初始化方法与创建对象


#### 异常和finally

<= 50 使用jsr跳到程序子片段 ret程序子片段返回   



## 4.11 java虚拟机限制
1. 类和接口constant\_pool 最大为65535


# 第5章 加载、链接和初始化
1. 加载-根据特定的名称找到类和接口的Class并创建
2. 链接-将类&接口并入jvm运行时状态
3. 初始化-执行类|接口初始化方法< cinit > 

## 5.1 运行时常量池
在方法区中	
1. ("a"+"b"+"c")lintern() == "abc"  true  会指向相同的CONSTANT\_String\_info 结构


## 5.2 虚拟机启动
通过引导类加载器创建一个初始化类来完成(虚拟机指定类)，jvm链接这个类，再初始化main,后main再去链接其他类。


## 5.3 创建和加载


